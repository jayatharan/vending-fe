<div class="container">
    <div *ngIf="productsLoading$ | async" class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Loading...</span>
    </div>
    <div class="card p-1 mb-2">
        <div class="d-flex justify-content-between">
            <div>
                <b>
                    <div>
                        <small>Total Cost : {{totalCost$ | async | currency:'INR'}}</small>
                    </div>
                    <div>
                        <small>Total Quantity : {{totalQty$ | async}}</small>
                    </div>
                </b>
            </div>
            <div class="bg-primary text-light card py-2 mb-2 user-select-none checkout-btn" routerLink="/checkout">
                <p class="mb-0 d-flex justify-content-between px-2">Checkout <i class="bi bi-cart-check"></i></p>
            </div>
        </div>
    </div>
    <div *ngIf="isAdmin$ | async" class="d-flex justify-content-end mb-2">
        <button class="btn btn-outline-primary" (click)="createNewProduct()" routerLink="/product">Add New Product</button>
    </div>
    <div class="row">
        <app-product 
            class="col-6 col-sm-6 col-md-4 col-lg-3 col-xl-2 mb-2" 
            *ngFor="let product of products$|async" 
            [product]='product'
        >
        </app-product>
    </div>
</div>